<html>
  <head>
    <script src="./utils.js"></script>
  </head>
  <body>
    <canvas id="canvas" width="400" height="400">
      此浏览器不支持canvas
    </canvas>
    <!-- <div style="background-color: red; width: 100px; height: 100px;"></div> -->
  </body>
</html>

<script>
  /** @type {HTMLCanvasElement} */
  const ctx = document.getElementById('canvas');

  // canvas 2d
  // const c = ctx.getContext('2d');
  // c.fillStyle = 'red';
  // c.fillRect(10, 10, 100, 100);

  // webgl 1.0 改变画布颜色
  const gl = ctx.getContext('webgl');

  // gl.clearColor(0.5, 0, 0, 1);
  // gl.clear(gl.COLOR_BUFFER_BIT);

  // console.log(gl.getParameter(gl.COLOR_CLEAR_VALUE));

  // 着色器 shader
  // vec4(x,y,z,w) (x/w,y/w,z/w) w 齐次坐标
  const VERTEX_SHADER_SOURCE = `
    void main() {
      gl_Position = vec4(0.0,0.0,0.0,1.0);
      gl_PointSize = 10.0;
    }
  `; // 顶点着色器

  const FRAGMENT_SHADER_SOURCE = `
    void main() {
      gl_FragColor = vec4(1.0,0.0,0.0,1.0);
    }
  `; // 片元着色器

  const program = initShader(gl, VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE);

  // 绘制图形 起点 使用几个顶点
  gl.drawArrays(gl.POINTS, 0, 1);
  // gl.drawArrays(gl.LINES, 0, 2);
  // gl.drawArrays(gl.TRIANGLES, 0, 3);
</script>